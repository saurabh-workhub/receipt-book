(this["webpackJsonpreceipt-book"]=this["webpackJsonpreceipt-book"]||[]).push([[0],{283:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(11),c=t.n(i),s=t(12),l=t(27),o=t(4),d=function(){return Object(o.jsx)("div",{className:"spinner",children:Object(o.jsx)("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading..."})})},j=t(312),u=t(328),b=t(149),h=t(316),m=t(317),p=t(318),O=t(47),x=Object(j.a)((function(){return{header:{backgroundColor:"#400CCC",paddingRight:"79px",paddingLeft:"118px"},logo:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"#FFFEFE",textAlign:"left"},menuButton:{fontFamily:"Open Sans, sans-serif",size:"18px",marginLeft:"38px"},toolbar:{display:"flex",justifyContent:"space-between"}}})),f=function(){var e=[{label:"My Account",href:"/account"},{label:"Log Out",href:"/logout"}],n=x(),t=n.header,a=n.logo,r=n.menuButton,i=n.toolbar,c=Object(o.jsx)(b.a,{variant:"h6",component:"h1",className:a,children:"Logo"});return Object(o.jsx)("header",{children:Object(o.jsx)(m.a,{className:t,children:Object(o.jsxs)(p.a,{className:i,children:[c,Object(o.jsx)("div",{children:e.map((function(e){var n=e.label,t=e.href;return Object(o.jsx)(h.a,{key:n,color:"inherit",to:t,component:O.b,className:r,children:n})}))})]})})})},g=t(24),v=t(150),S=t(323),C=t(341),y=t(319),P=t(284),k=t(336),T=t(324),w=t(334),I=t(320),N=t(321),M=t(326),W=t(342),F=t(144),J=t(63),L=t(19),D=t(332),E=t(145),A=t(333),R=t(340),B=function(e){var n=e.printers,t=e.callback,r=Object(a.useState)(0),i=Object(g.a)(r,2),c=i[0],s=i[1];return Object(o.jsx)(v.a,{style:{padding:16},children:Object(o.jsxs)(y.a,{fullWidth:!0,children:[Object(o.jsx)(I.a,{id:"demo-simple-select-label",children:"Select an installed Printer:"}),Object(o.jsx)(A.a,{labelId:"printers-label",id:"installedPrinterName",value:c,label:"Printers",onChange:function(e){s(e.target.value),t(e.target.value)},children:n.map((function(e){return Object(o.jsx)(R.a,{value:e,children:e})}))})]})})},q=t(26),U=t.n(q),_={printers:function(e){U.a.JSPrintManager.auto_reconnect=!0,U.a.JSPrintManager.start(),U.a.JSPrintManager.WS.onStatusChanged=function(){_.printersStatus()&&U.a.JSPrintManager.getPrinters().then((function(n){e(n)}))}},printersStatus:function(){return U.a.JSPrintManager.websocket_status===U.a.WSStatus.Open||(U.a.JSPrintManager.websocket_status===U.a.WSStatus.Closed?(alert("JSPrintManager (JSPM) is not installed or not running! Download JSPM Client App from https://neodynamic.com/downloads/jspm"),!1):U.a.JSPrintManager.websocket_status===U.a.WSStatus.Blocked?(alert("JSPM has blocked this website!"),!1):void 0)},print:function(e,n){if(!e)return alert("Please setup the printer first."),!1;if(_.printersStatus()){var t=new U.a.ClientPrintJob;t.clientPrinter=new U.a.InstalledPrinter(e);var a="\n";"\x1b!8","BEST DEAL STORES","\n\n","\x1b!\0","COOKIES                   5.00",a,"MILK 65 Fl oz             3.78","\n\n","SUBTOTAL                  8.78",a,"TAX 5%                    0.44",a,"TOTAL                     9.22",a,"CASH TEND                10.00",a,"CASH DUE                  0.78","\n\n","\x1b!\x18","# ITEMS SOLD 2","\x1b!\0","\n\n","11/03/13  19:53:17",t.printerCommands="\x1b C \0 5",t.sendToClient()}}},K=_;var z=function(){var e=Object(a.useState)([]),n=Object(g.a)(e,2),t=n[0],i=n[1],c=r.a.useRef([]);return Object(a.useEffect)((function(){0===c.current.length&&(K.printers(i),c.current=t)}),[t]),c.current},H=Object(j.a)((function(){return{drawerPaper:{width:"30%"}}})),Q=function(){var e=H(),n=z(),t=Object(a.useState)(),i=Object(g.a)(t,2),c=i[0],s=i[1],l=J.b().shape({tokenNumber:J.a().required("Required"),partyName:J.c().required("Required"),sampleType:J.c().required("Required"),finenessInPercent:J.a().min(0).max(100,"Invalid").required("Required")}),d=Object(F.a)({initialValues:{tokenNumber:"",partyName:"",sampleType:"",finenessInPercent:"",finenessInCarat:"",specialInformation:"",testDate:new Date,receiptDate:new Date,checkedBy:"SJ"},validationSchema:l,onSubmit:function(e){K.print(c,e)}});r.a.useEffect((function(){var e;d.values.finenessInPercent&&(d.values.finenessInCarat=(e=d.values.finenessInPercent)?24*e/100:"")}));var j,u=r.a.useState(!1),b=Object(g.a)(u,2),m=b[0],p=b[1];return Object(o.jsx)("div",{children:Object(o.jsxs)(r.a.Fragment,{children:[Object(o.jsx)(h.a,{variant:"outlined",onClick:function(){return p(!0)},children:"Setup Printer"}),Object(o.jsx)("form",{onSubmit:d.handleSubmit,children:Object(o.jsx)(v.a,{style:{padding:16},children:Object(o.jsxs)(S.a,{container:!0,spacing:3,children:[Object(o.jsxs)(S.a,{item:!0,xs:12,children:[Object(o.jsx)(C.a,{id:"tokenNumber",name:"tokenNumber",label:"Token #",value:d.values.tokenNumber,onChange:d.handleChange,fullWidth:!0}),d.errors.tokenNumber?d.errors.tokenNumber:null]}),Object(o.jsxs)(S.a,{item:!0,xs:12,children:[Object(o.jsx)(C.a,{id:"partyName",name:"partyName",label:"Party Name",value:d.values.partyName,onChange:d.handleChange,fullWidth:!0}),d.errors.partyName?d.errors.partyName:null]}),Object(o.jsxs)(S.a,{item:!0,xs:12,children:[Object(o.jsxs)(y.a,{component:"fieldset",fullWidth:!0,children:[Object(o.jsx)(P.a,{component:"legend",children:"Type of Sample"}),Object(o.jsxs)(k.a,{row:!0,name:"sampleType",value:d.values.sampleType,onChange:d.handleChange,children:[Object(o.jsx)(T.a,{value:"Cut-bit",control:Object(o.jsx)(w.a,{}),label:"Cut-bit"}),Object(o.jsx)(T.a,{value:"TM",control:Object(o.jsx)(w.a,{}),label:"TM"})]})]}),d.errors.sampleType?d.errors.sampleType:null]}),Object(o.jsxs)(S.a,{item:!0,xs:6,children:[Object(o.jsxs)(y.a,{variant:"standard",fullWidth:!0,children:[Object(o.jsx)(I.a,{htmlFor:"finenessInPercent",children:"Fineness"}),Object(o.jsx)(N.a,{id:"finenessInPercent",endAdornment:Object(o.jsx)(M.a,{position:"end",children:"%"}),value:d.values.finenessInPercent,onChange:d.handleChange,fullWidth:!0})]}),d.errors.finenessInPercent?d.errors.finenessInPercent:null]}),Object(o.jsx)(S.a,{item:!0,xs:6,children:Object(o.jsxs)(y.a,{variant:"standard",fullWidth:!0,children:[Object(o.jsx)(I.a,{htmlFor:"finenessInCarat",children:"Fineness"}),Object(o.jsx)(N.a,{readOnly:!0,id:"finenessInCarat",endAdornment:Object(o.jsx)(M.a,{position:"end",children:"Ct"}),value:d.values.finenessInCarat,onChange:d.handleChange,fullWidth:!0})]})}),Object(o.jsx)(S.a,{item:!0,xs:12,children:Object(o.jsx)(C.a,{id:"specialInformation",label:"Special Information",multiline:!0,rows:3,variant:"standard",value:d.values.specialInformation,onChange:d.handleChange,fullWidth:!0})}),Object(o.jsx)(S.a,{item:!0,xs:12,children:Object(o.jsx)(L.a,{utils:E.a,children:Object(o.jsx)(D.a,{disableToolbar:!0,fullWidth:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"testDate",label:"Test Date",value:d.values.testDate,onChange:d.handleChange,KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(o.jsx)(S.a,{item:!0,xs:4,children:Object(o.jsx)(h.a,{variant:"outlined",type:"submit",children:"Print"})})]})})}),Object(o.jsx)(W.a,{classes:{paper:e.drawerPaper},anchor:"right",open:m,onClose:(j=!1,function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&p(j)}),children:Object(o.jsx)(B,{printers:n,callback:s})})]})})},V=Object(j.a)((function(){return{container:{display:"flex",flex:1,paddingTop:"100px"},main:{flex:1,background:"#f7f5f5",color:"black"}}})),X=function(){var e=V(),n=e.container,t=e.main;return Object(o.jsxs)("div",{children:[Object(o.jsx)(f,{}),Object(o.jsx)(u.a,{className:n,children:Object(o.jsx)("main",{className:t,children:Object(o.jsx)(Q,{})})})]})},Y=t(146),Z=t(147),G=function(e){var n=e.component,t=Object(Z.a)(e,["component"]);return Object(o.jsx)(s.b,Object(Y.a)({component:Object(l.c)(n,{onRedirecting:function(){return Object(o.jsx)(d,{})}})},t))},$=t(329),ee=t(330),ne=t(331),te=function(){var e=Object(l.b)().user,n=e.name,t=e.picture,a=e.email;return Object(o.jsxs)("div",{children:[Object(o.jsx)(f,{}),Object(o.jsxs)($.a,{sx:{maxWidth:150},children:[Object(o.jsx)(ee.a,{height:"140px",width:"160px",component:"img",alt:n,image:t}),Object(o.jsxs)(ne.a,{children:[Object(o.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"div",children:n}),Object(o.jsx)(b.a,{variant:"body2",color:"text.secondary",children:a})]})]})]})},ae=function(){return(0,Object(l.b)().logout)()},re=function(){var e=Object(l.b)(),n=e.isAuthenticated,t=e.loginWithRedirect;return Object(a.useEffect)((function(){n?s.a:t({redirectUri:"http://".concat(window.location.hostname,":3000/home")})})),null};var ie=function(){return Object(l.b)().isLoading?Object(o.jsx)(d,{}):Object(o.jsxs)(s.d,{children:[Object(o.jsx)(s.b,{path:"/",exact:!0,component:re}),Object(o.jsx)(G,{path:"/home",component:X}),Object(o.jsx)(G,{path:"/account",component:te}),Object(o.jsx)(G,{path:"/logout",component:ae})]})},ce=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,343)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))},se=function(e){var n=e.children,t=Object(s.g)();return Object(o.jsx)(l.a,{domain:"dev-6bptmyvi.us.auth0.com",clientId:"bZLLiNmTrF4TRJQwfCtoLSjDjYvtJrbM",redirectUri:window.location.origin,onRedirectCallback:function(e){t.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},children:n})};c.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(O.a,{children:Object(o.jsx)(se,{children:Object(o.jsx)(ie,{})})})}),document.getElementById("root")),ce()}},[[283,1,2]]]);
//# sourceMappingURL=main.000530d0.chunk.js.map